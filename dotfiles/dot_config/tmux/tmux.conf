# ─────────────────────────────────────────────────────────────
# Terminal & Colors
# ─────────────────────────────────────────────────────────────
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# ─────────────────────────────────────────────────────────────
# General Settings
# ─────────────────────────────────────────────────────────────
set -g mouse on                    # Enable mouse
set -g base-index 1                # Start windows at 1
setw -g pane-base-index 1          # Start panes at 1
set -g renumber-windows on         # Renumber windows on close
set -g set-clipboard on            # Use system clipboard
set -g escape-time 0               # No delay for escape key

# ─────────────────────────────────────────────────────────────
# Prefix Key (using default Ctrl+b)
# ─────────────────────────────────────────────────────────────
# Keep default: Ctrl+b

# ─────────────────────────────────────────────────────────────
# Vi Mode (matches your zsh vi-mode)
# ─────────────────────────────────────────────────────────────
setw -g mode-keys vi               # Vi keys in copy mode
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel

# ─────────────────────────────────────────────────────────────
# Pane Navigation (vim-style)
# ─────────────────────────────────────────────────────────────
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ─────────────────────────────────────────────────────────────
# Split Panes (keep current directory)
# ─────────────────────────────────────────────────────────────
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# ─────────────────────────────────────────────────────────────
# Catppuccin Theme
# ─────────────────────────────────────────────────────────────
set -g @catppuccin_flavor 'mocha'
set -g @catppuccin_window_status_style "rounded"

# ─────────────────────────────────────────────────────────────
# Plugins
# ─────────────────────────────────────────────────────────────
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'catppuccin/tmux'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-yank'

# Auto-restore last session
set -g @continuum-restore 'on'

# Initialize TPM (keep at bottom)
run '~/.tmux/plugins/tpm/tpm'
